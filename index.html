<!DOCTYPE html>
<html>
  <head>
    <title>reCAPTCHA demo: Simple page</title>
     <script src="https://js.hcaptcha.com/1/api.js" async defer></script>
     <script>
       function isAppHandleRedirectionWithVersion() {
            const webView = cookie('webview') || '';

            if (
                webView === 'android_app' &&
                (window)?.flutter_inappwebview?.callHandler
            ) {
                return true;
            }

            if (
                webView === 'ios_app' &&
                (window)?.flutter_inappwebview?.callHandler
            ) {
                return true;
            }

            return false;
        };

        function callFlutterEventHandler(data) {
            (window)?.flutter_inappwebview.callHandler('WebViewConnect', data);
        };

        function captchaCallback(response) {
            if (typeof Captcha !== "undefined") {
                Captcha.postMessage(response);
            }
            const payload = {
              action: 'hcaptcha_key',
              action_value: {
                text: `${response}`,
              },
            };
            callFlutterEventHandler(JSON.stringify(payload));
        }
     </script>
  </head>
  <body>
    <form id="demo-form" action="?" method="POST">
      <button class="h-captcha" data-sitekey="7c7ed18d-afea-409e-9306-91368490a73a" data-callback="captchaCallback">Submit</button>
      <br/>
    </form>
  </body>
</html>
